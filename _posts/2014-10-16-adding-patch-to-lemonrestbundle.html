---
layout: post
title: Adding PATCH to LemonRestBundle
date: 2014-10-16 23:05:28.000000000 -04:00
categories:
- Developer
tags:
- php
- rest
- symfony
status: publish
type: post
published: true
meta:
  _rest_api_published: '1'
  _rest_api_client_id: "-1"
  _wpas_skip_facebook: '1'
  _wpas_skip_path: '1'
  _wpas_done_6642642: '1'
  _publicize_done_external: a:1:{s:11:"google_plus";a:1:{s:21:"113947804306116461605";b:1;}}
  publicize_twitter_user: stanlemon
  publicize_twitter_url: http://t.co/X3TwavkJ94
  _wpas_done_3138877: '1'
  publicize_linkedin_url: ''
  _wpas_done_6642648: '1'
  publicize_tumblr_url: http://stanlemon.tumblr.com.tumblr.com/post/100211565005
  _wpas_done_6642646: '1'
  _publicize_pending: '1'
  publicize_google_plus_url: https://plus.google.com/113947804306116461605/posts/dxpJ2Afck7b
author:
  login: stanlemon
  email: stosh1985@gmail.com
  display_name: stanlemon
  first_name: ''
  last_name: ''
---
<p>Work on <a href="http://github.com/stanlemon/rest-bundle">LemonRestBundle</a> continues, last night I merged in support for PATCH. This is an interesting beast because there are some strong opinions on the proper way to implement PATCH in a REST API. Initially I assumed I would just avoid it rather than subject myself to the judgment of poor implementation. However, the more I researched PATCH the more I realized that I wanted to add it, and furthermore the strong opinions were largely academic in nature. The <a href="https://tools.ietf.org/html/rfc6902">JSON Patch specification</a> is rather powerful but also complex, I've yet to find a consuming client that actually supports this standard. What I see a lot of is more akin to the <a href="http://tools.ietf.org/html/draft-ietf-appsawg-json-merge-patch-07">JSON Merge Patch specification</a>, and this is exactly what I've decided to add. Truthfully the bulk of the work in my implementation happens in JMS Serializer. I need to do more extensive testing on object nesting but the basic implementation works right now. One issue to keep in mind is the current setup requires you to specify the object id when in the PATCH request. I hope to fix this in the future, but for now that's the requirement.</p>
<p>I've also recently added the ability to customize the Criteria object for searches.  The Criteria object is basically a collection of the query parameters and it gets used by the ObjectManager to add filtering to the findBy() command used for making collections of a given resource. Out of a set of query parameters the default implementation separates out some data for limit, offset, order by and order direction and then provides those in a standard way to the ObjectManager. The limiting factor in the initial implementation is that you might not have liked the fields I was using for limit, offset, etc. Customizing the Criteria object gives you full control over how this is handled. You can read more about how to configure this in the bundle's documentation.</p>
<p>I've been experimenting with generating <a href="http://swagger.io">Swagger</a> docs within my bundle. I would expect this to materialize in the next week or so.  The technical details are already available to generate the docs, it's the descriptive data that isn't there yet and I'm still evaluating the best way to make that possible. Ultimately I'd love to have the bundle help it's users generate documentation for their APIs, eliminating yet one more detail in the management of a REST API.</p>
<p>Last but not least there I think it's safe to expect support for versioning, again this will largely be driven off of JMS Serializer's version exclusion groups.</p>
<p>Work on the bundle continues to move forward. Several folks have made contributions, all of which I am really grateful for! If you have a suggestion, recommendation or spotted a bug of any sort please open an issue over on GitHub.</p>
